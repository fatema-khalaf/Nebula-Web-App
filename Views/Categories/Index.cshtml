@section Style{
    <link rel="stylesheet" type="text/css" href="~/admin/src/plugins/datatables/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" type="text/css" href="~/admin/src/plugins/datatables/css/responsive.bootstrap4.min.css">
}
@model IQueryable<Nebula.VM.CategoriesVm>;
<div class="page-header">
    <div class="row">
        <div class="col-md-6 col-sm-12">
            <div class="title">
                <h4>Categories</h4>
            </div>
            <nav aria-label="breadcrumb" role="navigation">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Categories</li>
                </ol>
            </nav>
        </div>
        <div class="col-md-6 col-sm-12 text-right">
            <div class="dropdown">
                <a class="btn btn-danger" href="@Url.Action("Create", controller:"Categories")" role="button">
                    Add main category
                </a>
                <a class="btn btn-danger" href="@Url.Action("CreateSubCategory", controller:"Categories")" role="button">
                    Add sub category
                </a>
            </div>
        </div>
    </div>
</div>

<div class="pd-20 bg-white border-radius-4 box-shadow mb-30">
    <div class="card-box pb-10">
        <div class="h5 pd-20 mb-0">Main Categories</div>
        <table class="data-table table nowrap">
            <thead>
                <tr>
                    <th class="table-plus">ID</th>
                    <th>Category Name</th>
                    <th>Image</th>
                    <th>Description</th>
                    <th>Creation Date</th>
                    <th class="datatable-nosort">Options</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var Category in Model)
                    if (Category.ParentId == null)
                {
                    <tr>
                        <td>@Category.Id</td>
                        <td><span class="badge badge-pill" data-bgcolor="#e7ebf5" data-color="#265ed7">@Category.Name</span></td>
                        <td>
                            <div class="avatar mr-2 flex-shrink-0">
                                <img src="~/uploads/Categories/@(Category.ImageId).png" class="border-radius-100 shadow" style="width:50px; height:50px;" alt="">
                            </div>

                        <td>@Category.Description</td>
                        <td>@Category.CreatedDate</td>
                        <td>
                            <div class="table-actions">
                                <a href="@Url.ActionLink("Edit",controller:"Categories",values: new { id=Category.Id} )" data-color="#265ed7"><i class="icon-copy dw dw-edit2"></i></a>
                                <a href="@Url.ActionLink("Delete",controller:"Categories",values: new { id=Category.Id} )" data-color="#e95959"><i class="icon-copy dw dw-delete-3"></i></a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<div class="pd-20 bg-white border-radius-4 box-shadow mb-30">
    <div class="card-box pb-10">
        <div class="h5 pd-20 mb-0">Sub Categories</div>
        <table class="data-table table nowrap">
            <thead>
                <tr>
                    <th class="table-plus">ID</th>
                    <th>Main category</th>
                    <th>Sub category Name</th>
                    <th>Image</th>
                    <th>Description</th>
                    <th>Creation Date</th>
                    <th class="datatable-nosort">Options</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var Category in Model)
                    if(Category.ParentId!= null)
                {
                <tr>
                    <td>@Category.Id</td>
                    <td>@Category.Parent</td>
                    <td><span class="badge badge-pill" data-bgcolor="#e7ebf5" data-color="#265ed7">@Category.Name</span></td>
                    <td>
                        <div class="avatar mr-2 flex-shrink-0">
                            <img src="~/uploads/Categories/@(Category.ImageId).png" class="border-radius-100 shadow" style="width:50px; height:50px;" alt="">
                        </div>
                    <td>@Category.Description</td>
                    <td>@Category.CreatedDate</td>
                    <td>
                        <div class="table-actions">
                            <a href="@Url.ActionLink("Edit",controller:"Categories",values: new { id=Category.Id} )" data-color="#265ed7"><i class="icon-copy dw dw-edit2"></i></a>
                            <a href="@Url.ActionLink("Delete",controller:"Categories",values: new { id=Category.Id} )" data-color="#e95959"><i class="icon-copy dw dw-delete-3"></i></a>
                        </div>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>


@section Scripts{
    <script src="~/admin/src/plugins/apexcharts/apexcharts.min.js"></script>
    <script src="~/admin/src/plugins/datatables/js/jquery.dataTables.min.js"></script>
    <script src="~/admin/src/plugins/datatables/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/admin/src/plugins/datatables/js/dataTables.responsive.min.js"></script>
    <script src="~/admin/src/plugins/datatables/js/responsive.bootstrap4.min.js"></script>
    <script src="~/admin/vendors/scripts/dashboard3.js"></script>
}
<!--
<td class="table-plus">
    <div class="name-avatar d-flex align-items-center">
        <div class="avatar mr-2 flex-shrink-0">
            <img src="~/admin/vendors/images/photo4.jpg" class="border-radius-100 shadow" width="40" height="40" alt="">
        </div>
        <div class="txt">
            <div class="weight-600">1</div>
        </div>
    </div>
</td>
    -->
